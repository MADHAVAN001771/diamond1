<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸ“… Sold History</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">
<h2>ðŸ“… Sold History</h2>

<input type="date" id="datePick">

<table>
<thead>
<tr>
<th>Cent / Item</th>
<th>Sold Pieces</th>
<th>Sold Weight</th>
</tr>
</thead>
<tbody id="list"></tbody>
</table>

<br>
<button onclick="location.href='index.html'">â¬… Back</button>
</div>

<script>
const labels=[
  ...Array.from({length:20},(_,i)=>`${i+1} Cent`),
  "22 Cent","25 Cent","28 Cent","30 Cent",
  "Screw 1","Screw 2","Item 3","Item 4","Item 5"
];

const list=document.getElementById("list");
labels.forEach((l,i)=>{
  list.innerHTML+=`
<tr>
<td>${l}</td>
<td id="p${i}">0</td>
<td id="w${i}">0.000</td>
</tr>`;
});

const datePick=document.getElementById("datePick");
const today=new Date().toISOString().split("T")[0];
datePick.value=today;
datePick.max=today;

function loadHistory(date){
  const hist=JSON.parse(localStorage.getItem("soldHistory"))||{};
  const data=hist[date]||[];
  data.forEach((x,i)=>{
    document.getElementById("p"+i).textContent=x.pieces;
    document.getElementById("w"+i).textContent=Number(x.weight).toFixed(3);
  });
}

loadHistory(today);
datePick.onchange=()=>loadHistory(datePick.value);
</script>
</body>
</html>
