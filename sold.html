<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sold History</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h2>ðŸ“… Sold History</h2>

  <label>Select Date:</label>
  <input type="date" id="datePick">

  <table>
    <thead>
      <tr>
        <th>Cent / Item</th>
        <th>Sold Products</th>
        <th>Sold Weight</th>
      </tr>
    </thead>
    <tbody id="list"></tbody>
  </table>
</div>

<script>
const labels = [
  ...Array.from({ length: 20 }, (_, i) => `${i + 1} Cent`),
  "22 Cent", "25 Cent", "28 Cent", "30 Cent",
  "Screw 1",
  "Screw 2",
  "Item 3",
  "Item 4",
  "Item 5"
];

const list = document.getElementById("list");

labels.forEach((label, i) => {
  list.innerHTML += `
  <tr>
    <td>${label}</td>
    <td id="p${i}">0</td>
    <td id="w${i}">0.000</td>
  </tr>`;
});

document.getElementById("datePick").addEventListener("change", function () {
  const history = JSON.parse(localStorage.getItem("soldHistory")) || {};
  const date = this.value;

  labels.forEach((_, i) => {
    document.getElementById("p"+i).innerText = 0;
    document.getElementById("w"+i).innerText = "0.000";
  });

  if (!history[date]) return;

  history[date].forEach((x, i) => {
    document.getElementById("p"+i).innerText = x.pieces;
    document.getElementById("w"+i).innerText =
      Number(x.weight).toFixed(3);
  });
});
</script>

</body>
</html>
